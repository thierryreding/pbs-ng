diff --git a/src/gpg-error-config-test.sh.in b/src/gpg-error-config-test.sh.in
index 02bc8818b607..818955ccc758 100644
--- a/src/gpg-error-config-test.sh.in
+++ b/src/gpg-error-config-test.sh.in
@@ -14,6 +14,7 @@ export PKG_CONFIG_PATH
     PKG_CONFIG_CMD=./gpg-error-config-old
     # Old gpg-error-config never supports PKG_CONFIG_SYSROOT_DIR
     unset PKG_CONFIG_SYSROOT_DIR
+    unset PKG_CONFIG_LIBDIR
 else
     if ! pkg_config_version=$(pkg-config --version 2>/dev/null); then
         # Skip this test when pkg-config is not available
