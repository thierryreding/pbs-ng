description: an open-source implementation of the OpenGL specification
version: 25.3.5
license: custom

depends:
  - build-tools/meson
  - build-tools/python-mako
  - build-tools/python-pyyaml
  - devel/clang
  - devel/directx-headers
  - devel/llvm
  - devel/spirv-tools
  - libs/expat
  - libs/libclc
  - libs/libdrm
  - libs/libelf
  - libs/libglvnd
  - libs/libunwind
  - libs/zstd
  - xorg/proto/xorgproto
  - xorg/lib/xext
  - xorg/lib/xdamage
  - xorg/lib/xfixes
  - xorg/lib/xrandr
  - xorg/lib/xshmfence
  - xorg/lib/xvmc
  - xorg/lib/xxf86vm
  - core/systemd # gbm requires udev
  - libs/wayland-protocols
  - libs/wayland
  - libs/zlib
  - multimedia/libva
  - multimedia/libvdpau

files:
  - download:
      url: https://archive.mesa3d.org/mesa-${version}.tar.xz
      sha1: 28a652aaae766dbc564232c0d36def1ae7ee62a7
      watch:
        url: anitya://1970

options:
  debug:
    description: enable debug support
    default: no

  gallium-drivers:
    description: gallium drivers
    default: no
    options:
      asahi:
        description: asahi gallium driver
        default: no

      crocus:
        description: crocus gallium driver
        default: no

      d3d12:
        description: d3d12 gallium driver
        default: no

      ethosu:
        description: d3d12 gallium driver
        default: no

      etnaviv:
        description: etnaviv gallium driver
        default: no

      freedreno:
        description: freedreno gallium driver
        default: no

      i915:
        description: i915 gallium driver
        default: no

      iris:
        description: iris gallium driver
        default: no

      lima:
        description: lima gallium driver
        default: no

      llvmpipe:
        description: LLVM pipe gallium driver
        default: no

      nouveau:
        description: Nouveau gallium driver
        default: no

      panfrost:
        description: panfrost gallium driver
        default: no

      r300:
        description: R300 gallium driver
        default: no

      r600:
        description: R600 gallium driver
        default: no

      radeonsi:
        description: Radeon gallium driver
        default: no

      rocket:
        description: Rockchip NPU gallium driver
        default: no

      softpipe:
        description: softpipe gallium driver
        default: no

      svga:
        description: SVGA gallium driver
        default: no

      tegra:
        description: Tegra gallium driver
        default: no

      v3d:
        description: V3D gallium driver
        default: no

      vc4:
        description: VC4 gallium driver
        default: no

      virgl:
        description: virgl gallium driver
        default: no

      zink:
        description: zink gallium driver
        default: no

  opencl:
    description: OpenCL support
    default: no

  vulkan-drivers:
    description: Vulkan drivers
    default: no
    options:
      amd:
        description: AMD Vulkan driver
        default: no

      asahi:
        description: asahi Vulkan driver
        default: no

      broadcom:
        description: Broadcom Vulkan driver
        default: no

      freedreno:
        description: freedreno Vulkan driver
        default: no

      gfxstream:
        description: freedreno Vulkan driver
        default: no

      imagination:
        description: Imagination Vulkan driver
        default: no

      intel:
        description: Intel Vulkan driver
        default: no

      intel-haswell:
        description: Intel Vulkan driver (Haswell)
        default: no

      kosmickrisp:
        description: Metal 4 Vulkan driver (Apple Silicon)
        default: no

      microsoft:
        description: Microsoft Vulkan driver
        default: no

      nouveau:
        description: Nouveau Vulkan driver (nvk)
        default: no

      panfrost:
        description: panfrost Vulkan driver
        default: no

      swrast:
        description: software rasterizer Vulkan driver
        default: no

      tegra:
        description: Tegra Vulkan driver
        default: no

      virtio:
        description: VirtIO Vulkan driver
        default: no

  platforms:
    description: platforms
    default: no
    options:
      android:
        description: Android platform
        default: no

      x11:
        description: X11 platform
        default: no

      wayland:
        description: Wayland platform
        default: no

      haiku:
        description: Haiku platform
        default: no

      windows:
        description: Windows platform
        default: no

packages:
  mesa:
    files:
      - /usr/lib/dri/*.so
      - /usr/lib/egl/*.so
      - /usr/lib/gallium-pipe/*.so
      - /usr/lib/gbm/*.so
      - /usr/lib/vdpau/*
      - /usr/lib/*.so.*
      - /usr/share

  mesa-dev:
    files:
      - /usr/include
      - /usr/lib/*.so
      - /usr/lib/pkgconfig

# vim: et ft=yaml sts=2 sw=2 ts=2
